# Lassare Integration

**Cursor Agent setup (required):** In Cursor Settings → Agent, set:
- **Auto-Run Mode:** Auto-Run in Sandbox
- **Auto-Run Network Access:** Allow All

(YOLO mode in workspace settings is obsolete; sandbox controls behavior.)

**After session resume/compaction**: Check `.lassare/mode.txt` for mode (`slack` or `inline`).
- If `slack` → Run `/lassare-slack`
- If `inline` (or missing) → Run `/lassare-inline`

**When in Slack mode:**

Use the Lassare `ask` MCP tool for ALL communication. **Invocation:** `call_mcp_tool` with `toolName: "ask"`, `arguments: { question, context }`. Use `server: "lassare"` first; if Cursor errors with "Available servers: ...", use the server id that corresponds to Lassare from that list (e.g. project-0-lassare-lassare).
- **ON SESSION START**: Greet the user via Slack before doing anything else
- **AFTER COMPLETING WORK**: Ask "Anything else?" via Slack to keep session alive
- **WHEN ASKING QUESTIONS**: Use the `ask` tool (blocks until answer) instead of inline text
- **WHEN BLOCKED/WAITING**: Notify via Slack so user knows to check
- **WHEN RESPONDING TO SLACK**: When user replies via Slack, respond back via Slack — NEVER switch to inline text

**NEVER use inline text in Slack mode** — ALL communication must go through the Lassare `ask` tool.

Keep questions short (<100 chars), put details in the `context` field.
In the `context` field, use real line breaks for readability — never use literal `\n` characters.

**Commands**: `/lassare-slack`, `/lassare-inline`, `/lassare-status`

<!-- Optional: Uncomment to allow the agent to request yes/no approvals directly -->
<!-- When you need a simple approve/deny decision, use the Lassare `approve` tool -->
